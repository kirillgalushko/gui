import{D as v,r as l,O as L,w as D,P as g,I as s,Q,R as U,S as B,U as C,j as q,e as N,f as k,t as G,g as E,l as J,A as O,z as P,T as K,V as X,F as Y,v as Z,u as ee}from"./vue.esm-bundler-0yPEwasB.js";import{B as ne}from"./BaseMenu-Bok6tjVV.js";import{B as te,f as ue,s as oe}from"./floating-ui.dom.browser.min-Dq8c3VDt.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";function le(){return typeof window<"u"}function se(e){return F(e)?(e.nodeName||"").toLowerCase():"#document"}function re(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function F(e){return le()?e instanceof Node||e instanceof re(e).Node:!1}function ie(e){return e!=null&&typeof e=="object"&&"$el"in e}function T(e){if(ie(e)){const t=e.$el;return F(t)&&se(t)==="#comment"?null:t}return e}function V(e){return typeof e=="function"?e():s(e)}function I(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $(e,t){const u=I(e);return Math.round(t*u)/u}function fe(e,t,u){u===void 0&&(u={});const d=u.whileElementsMounted,f=v(()=>{var a;return(a=V(u.open))!=null?a:!0}),p=v(()=>V(u.middleware)),r=v(()=>{var a;return(a=V(u.placement))!=null?a:"bottom"}),i=v(()=>{var a;return(a=V(u.strategy))!=null?a:"absolute"}),w=v(()=>{var a;return(a=V(u.transform))!=null?a:!0}),o=v(()=>T(e.value)),n=v(()=>T(t.value)),h=l(0),b=l(0),y=l(i.value),c=l(r.value),M=L({}),x=l(!1),z=v(()=>{const a={position:y.value,left:"0",top:"0"};if(!n.value)return a;const m=$(n.value,h.value),H=$(n.value,b.value);return w.value?{...a,transform:"translate("+m+"px, "+H+"px)",...I(n.value)>=1.5&&{willChange:"transform"}}:{position:y.value,left:m+"px",top:H+"px"}});let _;function R(){if(o.value==null||n.value==null)return;const a=f.value;te(o.value,n.value,{middleware:p.value,placement:r.value,strategy:i.value}).then(m=>{h.value=m.x,b.value=m.y,y.value=m.strategy,c.value=m.placement,M.value=m.middlewareData,x.value=a!==!1})}function S(){typeof _=="function"&&(_(),_=void 0)}function W(){if(S(),d===void 0){R();return}if(o.value!=null&&n.value!=null){_=d(o.value,n.value,R);return}}function A(){f.value||(x.value=!1)}return D([p,r,i,f],R,{flush:"sync"}),D([o,n],W,{flush:"sync"}),D(f,A,{flush:"sync"}),Q()&&U(S),{x:g(h),y:g(b),strategy:g(y),placement:g(c),middlewareData:g(M),isPositioned:g(x),floatingStyles:z,update:R}}const ce=()=>{const e=B("hover-submenu-shown",l()),t=B("hover-submenu-hidden",l()),u=l(!1),d=l(!1),f=l(null),p=l(null),r=l(),i=l([ue(),oe()]),{floatingStyles:w,update:o}=fe(f,p,{placement:"right-start",middleware:i}),n=c=>{var M;clearTimeout(r.value),c==null||c.preventDefault(),u.value=!0,(M=e.value)==null||M.call(e),o()},h=()=>{r.value=setTimeout(()=>{var c;u.value=!1,(c=t.value)==null||c.call(t)},100)},b=()=>{d.value=!0},y=()=>{d.value=!1};return C("hover-submenu-shown",l(b)),C("hover-submenu-hidden",l(y)),{floatingStyles:w,floatingRef:p,targetRef:f,isVisible:u,isSubmenuVisible:d,hideMenu:h,showHoverMenu:n}},j=q({__name:"HoverMenu",setup(e){const{targetRef:t,floatingRef:u,floatingStyles:d,isVisible:f,isSubmenuVisible:p,showHoverMenu:r,hideMenu:i}=ce();return(w,o)=>(N(),k(Y,null,[G("div",{ref_key:"targetRef",ref:t,onMouseenter:o[0]||(o[0]=(...n)=>s(r)&&s(r)(...n)),onMouseleave:o[1]||(o[1]=(...n)=>s(i)&&s(i)(...n)),class:"hover-menu-wrapper"},[E(w.$slots,"default",{ref:"testRef"},void 0,!0)],544),(N(),J(X,{to:"body"},[O(K,{name:"fade"},{default:P(()=>[s(f)||s(p)?(N(),k("div",{key:0,onMouseenter:o[2]||(o[2]=(...n)=>s(r)&&s(r)(...n)),onMouseleave:o[3]||(o[3]=(...n)=>s(i)&&s(i)(...n)),ref_key:"floatingRef",ref:u},[O(ne,{style:Z(s(d))},{default:P(()=>[E(w.$slots,"menu",{},void 0,!0)]),_:3},8,["style"])],544)):ee("",!0)]),_:3})]))],64))}}),we=ae(j,[["__scopeId","data-v-4b1c7a34"]]);j.__docgenInfo={exportName:"default",displayName:"HoverMenu",description:"",tags:{},slots:[{name:"default",scoped:!0,bindings:[{name:"ref",title:"binding"}]},{name:"menu"}],sourceFiles:["/home/runner/work/gui/gui/src/components/HoverMenu/HoverMenu.vue"]};export{we as H,fe as u};
