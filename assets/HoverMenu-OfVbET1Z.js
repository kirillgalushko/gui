import{B as v,A as l,M as A,w as N,N as g,G as s,O as G,P as L,Q as H,R as C,e as Q,o as S,b as k,l as J,d as E,g as K,x as O,v as P,T as U,S as X,F as Y,s as Z,q as ee}from"./vue.esm-bundler-vqfIXXGK.js";import{B as ne}from"./BaseMenu-Bvk-bTua.js";import{B as te,f as oe,s as ue}from"./floating-ui.dom.browser.min-Dq8c3VDt.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";function le(){return typeof window<"u"}function se(e){return F(e)?(e.nodeName||"").toLowerCase():"#document"}function re(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function F(e){return le()?e instanceof Node||e instanceof re(e).Node:!1}function ie(e){return e!=null&&typeof e=="object"&&"$el"in e}function T(e){if(ie(e)){const t=e.$el;return F(t)&&se(t)==="#comment"?null:t}return e}function V(e){return typeof e=="function"?e():s(e)}function I(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $(e,t){const o=I(e);return Math.round(t*o)/o}function fe(e,t,o){o===void 0&&(o={});const d=o.whileElementsMounted,f=v(()=>{var a;return(a=V(o.open))!=null?a:!0}),p=v(()=>V(o.middleware)),r=v(()=>{var a;return(a=V(o.placement))!=null?a:"bottom"}),i=v(()=>{var a;return(a=V(o.strategy))!=null?a:"absolute"}),w=v(()=>{var a;return(a=V(o.transform))!=null?a:!0}),u=v(()=>T(e.value)),n=v(()=>T(t.value)),h=l(0),b=l(0),y=l(i.value),c=l(r.value),M=A({}),R=l(!1),W=v(()=>{const a={position:y.value,left:"0",top:"0"};if(!n.value)return a;const m=$(n.value,h.value),B=$(n.value,b.value);return w.value?{...a,transform:"translate("+m+"px, "+B+"px)",...I(n.value)>=1.5&&{willChange:"transform"}}:{position:y.value,left:m+"px",top:B+"px"}});let _;function x(){if(u.value==null||n.value==null)return;const a=f.value;te(u.value,n.value,{middleware:p.value,placement:r.value,strategy:i.value}).then(m=>{h.value=m.x,b.value=m.y,y.value=m.strategy,c.value=m.placement,M.value=m.middlewareData,R.value=a!==!1})}function D(){typeof _=="function"&&(_(),_=void 0)}function q(){if(D(),d===void 0){x();return}if(u.value!=null&&n.value!=null){_=d(u.value,n.value,x);return}}function z(){f.value||(R.value=!1)}return N([p,r,i,f],x,{flush:"sync"}),N([u,n],q,{flush:"sync"}),N(f,z,{flush:"sync"}),G()&&L(D),{x:g(h),y:g(b),strategy:g(y),placement:g(c),middlewareData:g(M),isPositioned:g(R),floatingStyles:W,update:x}}const ce=()=>{const e=H("hover-submenu-shown",l()),t=H("hover-submenu-hidden",l()),o=l(!1),d=l(!1),f=l(null),p=l(null),r=l(),i=l([oe(),ue()]),{floatingStyles:w,update:u}=fe(f,p,{placement:"right-start",middleware:i}),n=c=>{var M;clearTimeout(r.value),c==null||c.preventDefault(),o.value=!0,(M=e.value)==null||M.call(e),u()},h=()=>{r.value=setTimeout(()=>{var c;o.value=!1,(c=t.value)==null||c.call(t)},100)},b=()=>{d.value=!0},y=()=>{d.value=!1};return C("hover-submenu-shown",l(b)),C("hover-submenu-hidden",l(y)),{floatingStyles:w,floatingRef:p,targetRef:f,isVisible:o,isSubmenuVisible:d,hideMenu:h,showHoverMenu:n}},j=Q({__name:"HoverMenu",setup(e){const{targetRef:t,floatingRef:o,floatingStyles:d,isVisible:f,isSubmenuVisible:p,showHoverMenu:r,hideMenu:i}=ce();return(w,u)=>(S(),k(Y,null,[J("div",{ref_key:"targetRef",ref:t,onMouseenter:u[0]||(u[0]=(...n)=>s(r)&&s(r)(...n)),onMouseleave:u[1]||(u[1]=(...n)=>s(i)&&s(i)(...n)),class:"hover-menu-wrapper"},[E(w.$slots,"default",{ref:"testRef"},void 0,!0)],544),(S(),K(X,{to:"body"},[O(U,{name:"fade"},{default:P(()=>[s(f)||s(p)?(S(),k("div",{key:0,onMouseenter:u[2]||(u[2]=(...n)=>s(r)&&s(r)(...n)),onMouseleave:u[3]||(u[3]=(...n)=>s(i)&&s(i)(...n)),ref_key:"floatingRef",ref:o},[O(ne,{style:Z(s(d))},{default:P(()=>[E(w.$slots,"menu",{},void 0,!0)]),_:3},8,["style"])],544)):ee("",!0)]),_:3})]))],64))}}),we=ae(j,[["__scopeId","data-v-4b1c7a34"]]);j.__docgenInfo={exportName:"default",displayName:"HoverMenu",description:"",tags:{},slots:[{name:"default",scoped:!0,bindings:[{name:"ref",title:"binding"}]},{name:"menu"}],sourceFiles:["/home/runner/work/gui/gui/src/components/HoverMenu/HoverMenu.vue"]};export{we as H,fe as u};
